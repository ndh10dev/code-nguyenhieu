<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ngay 5</title>
    <link rel="icon" type="image/x-icon" href="favicon_io/favicon.ico">
    <!-- CSS -->
    <style>
        h1{
            font-size: 30px;
            color: chocolate;
        }
        p{
            font-size: 20px;
            color: #333333;
            font-family: Arial, Helvetica, sans-serif;
        }
        .input_all{
    	width: 300px;
    	height: 30px;
    	border-radius: 4px;
    	border: 2px solid black;
	    }
        .button_all{
    	height: auto;
    	background-color: aqua;
    	color: black;
    	border-radius: 10%;
        padding:7px;
	    }
	    .button_all:hover{
    	transform: translateY(-5px);
    	box-shadow: 0 2px 2px black;
	    }
    </style>
</head>
<body>
    <h1>Test JS trong console ==></h1>
    <div class="box">
        <p id="text_1" class="text_all">Nhập chuỗi để kiểm tra: </p>
        <input type="text" id="input_1" class="input_all" placeholder="...">
        <button id="button_1" class="button_all">Kiểm tra</button>
    </div>
    <p id="txt">Mang tren la mang palindrome: </p>
    <p id="txt2">Test phuong trinh bac 2</p>
    <p id="txt3"></p>
    <p id="txt4"></p>
    <p id="txt5"></p>
    <p id="daychan">add la: </p>
    <p id="b1"></p>
    <p id="b3"></p>

    <!-- JS -->
    <script>

        //- Viết hàm kiểm tra một chuỗi có phải là palindrome.
        function isPalindrome(str) {
            let clear = str.toLowerCase().replace(/\s+/g, '');
            let reversed = clear.split('').reverse().join('');
            return reversed === clear;
        }
        document.getElementById('button_1').addEventListener('click', function() {
            let gt = document.getElementById('input_1').value;
            if(gt.trim() === "") {
                document.getElementById('txt').innerHTML = "Nhập chuỗi!";
                return;
            }
            let result = isPalindrome(gt);
            let out;
            if(result) {
                out = `Đây là palindrome`;
            } else {
                out = `Không phải là palindrome`;
            }
            document.getElementById('txt').innerHTML = out;
            console.log(`Palindrome check: ${result}`);
        });


        //- Viêt function phương trình bậc 2 in ra nghiệm đầu vào là 3 số a,b,c
        function ptb2(a,b,c){
            let delta = b * b - 4 * a * c;
            if (delta < 0) {
                document.getElementById('txt3').innerHTML = "Phuong trinh vo nghiem";
            } else if (delta === 0){
                let x = -b / (2 * a);
                document.getElementById('txt3').innerHTML = "Phuong trinh co 1 nghiem kep: " + x;
            } else {
                let x1 = (-b + Math.sqrt(delta)) / (2 * a);
                let x2 = (-b - Math.sqrt(delta)) / (2 * a);
                document.getElementById('txt3').innerHTML = "Phuong trinh co 2 nghiem phan biet: ";
                document.getElementById('txt4').innerHTML = "X1 = " + x1;
                document.getElementById('txt5').innerHTML = "X2 = " + x2;
            }
        }
        ptb2(1,-4,4); //(1,-3,2)


        //Scope
        let x = 10;
        function demo(){
            console.log(`So x la: ${x}`)
        }
        demo();
        console.log(`So x lan thu 2 la: ${x}`);

        //Closure

        //- Viết hàm tạo closure để đếm số lần gọi một hàm.
        function cout(){
            let count = 0;

            function cin(){
                count++;
                console.log(count);
            }
            return cin;
        }
        let c = cout();
        c();
        c();
        c();


        function add(z){
            return function(y){
                return z + y
            }
        }
        let add1 = add(5);

        setTimeout(function(){
        document.getElementById('daychan').innerHTML = "add la: " + add1(15);
        console.log(add1(10));
        console.log(add1(2));
        }, 4000);
    </script>
</body>
</html>